// Modifier bit offsets
#define CTRL (0)
#define L_SHIFT (1)
#define R_SHIFT (2)
#define L_CMD (3)
#define R_CMD (4)
#define L_ALT (5)
#define R_ALT (6)

const unsigned char NEXTmodifier_table[] = {
	[CTRL] = 0x01,
	[L_SHIFT] = 0x02,
	[R_SHIFT] = 0x20,
	[L_CMD] = 0x08,
	[R_CMD] = 0x80,
	[L_ALT] = 0x04,
	[R_ALT] = 0x40
};

const unsigned char NEXTkeycode_usage_translation_table[] = {
	[0x01] = 0x4E, // PGDN
	[0x02] = 0x4C, // DEL
	[0x03] = 0x31, // \ and |
	[0x04] = 0x30, // ] and }
	[0x05] = 0x2F, // [ and {
	[0x06] = 0x0C, // i and I
	[0x07] = 0x12, // o and O
	[0x08] = 0x13, // p and P
	[0x09] = 0x50, // LeftArrow
	[0x0B] = 0x62, // Keypad 0
	[0x0C] = 0x63, // Keypad .
	[0x0D] = 0x58, // Keypad ENTER
	[0x0F] = 0x51, // DownArrow
	[0x10] = 0x4F, // RightArrow
	[0x11] = 0x59, // Keypad 1
	[0x12] = 0x5C, // Keypad 4
	[0x13] = 0x5E, // Keypad 6
	[0x14] = 0x5B, // Keypad 3
	[0x15] = 0x57, // Keypad +
	[0x16] = 0x52, // UpArrow
	[0x17] = 0x5A, // Keypad 2
	[0x18] = 0x5D, // Keypad 5
	[0x19] = 0x4B, // PGUP
	[0x1A] = 0x49, // INS
	[0x1B] = 0x2A, // BACKSPACE
	[0x1C] = 0x2E, // = and +
	[0x1D] = 0x2D, // - and _
	[0x1E] = 0x25, // 8 and *
	[0x1F] = 0x26, // 9 and (
	[0x20] = 0x27, // 0 and )
	[0x21] = 0x5F, // Keypad 7
	[0x22] = 0x60, // Keypad 8
	[0x23] = 0x61, // Keypad 9
	[0x24] = 0x56, // Keypad -
	[0x25] = 0x55, // Keypad *
	[0x26] = 0x35, // ` and ~
	[0x27] = 0x67, // Keypad =
	[0x28] = 0x54, // Keypad /
	[0x2A] = 0x28, // RETURN
	[0x2B] = 0x34, // ' and "
	[0x2C] = 0x33, // ; and :
	[0x2D] = 0x0F, // l and L
	[0x2E] = 0x36, // , and <
	[0x2F] = 0x37, // . and >
	[0x30] = 0x38, // / and ?
	[0x31] = 0x1D, // z and Z
	[0x32] = 0x1B, // x and X
	[0x33] = 0x06, // c and C
	[0x34] = 0x19, // v and V
	[0x35] = 0x05, // b and B
	[0x36] = 0x10, // m and M
	[0x37] = 0x11, // n and N
	[0x38] = 0x2C, // SPACE
	[0x39] = 0x04, // a and A
	[0x3A] = 0x16, // s and S
	[0x3B] = 0x07, // d and D
	[0x3C] = 0x09, // f and F
	[0x3D] = 0x0A, // g and G
	[0x3E] = 0x0E, // k and K
	[0x3F] = 0x0D, // j and J
	[0x40] = 0x0B, // h and H
	[0x41] = 0x2B, // TAB
	[0x42] = 0x14, // q and Q
	[0x43] = 0x1A, // w and W
	[0x44] = 0x08, // e and E
	[0x45] = 0x15, // r and R
	[0x46] = 0x18, // u and U
	[0x47] = 0x1C, // y and Y
	[0x48] = 0x17, // t and T
	[0x49] = 0x29, // ESC
	[0x4A] = 0x1E, // 1 and !
	[0x4B] = 0x1F, // 2 and @
	[0x4C] = 0x20, // 3 and #
	[0x4D] = 0x21, // 4 and $
	[0x4E] = 0x24, // 7 and &
	[0x4F] = 0x23, // 6 and ^
	[0x50] = 0x22, // 5 and %
};



const unsigned char ATkey_usage_translation_table[] = {
	[1] = 0x35, 
	[2] = 0x1E, 
	[3] = 0x1F, 
	[4] = 0x20, 
	[5] = 0x21, 
	[6] = 0x22, 
	[7] = 0x23, 
	[8] = 0x24, 
	[9] = 0x25, 
	[10] = 0x26,
	[11] = 0x27,
	[12] = 0x2D,
	[13] = 0x2E,
	[15] = 0x2A,
	[16] = 0x2B,
	[17] = 0x14,
	[18] = 0x1A,
	[19] = 0x08,
	[20] = 0x15,
	[21] = 0x17,
	[22] = 0x1C,
	[23] = 0x18,
	[24] = 0x0C,
	[25] = 0x12,
	[26] = 0x13,
	[27] = 0x2F,
	[28] = 0x30,
	[29] = 0x31,
	[30] = 0x39,
	[31] = 0x04,
	[32] = 0x16,
	[33] = 0x07,
	[34] = 0x09,
	[35] = 0x0A,
	[36] = 0x0B,
	[37] = 0x0D,
	[38] = 0x0E,
	[39] = 0x0F,
	[40] = 0x33,
	[41] = 0x34,
	[42] = 0x32,
	[43] = 0x28,
	[44] = 0xE1,
	[45] = 0x64,
	[46] = 0x1D,
	[47] = 0x1B,
	[48] = 0x06,
	[49] = 0x19,
	[50] = 0x05,
	[51] = 0x11,
	[52] = 0x10,
	[53] = 0x36,
	[54] = 0x37,
	[55] = 0x38,
	[56] = 0x87,
	[57] = 0xE5,
	[58] = 0xE0,
	[60] = 0xE2,
	[61] = 0x2C,
	[62] = 0xE6,
	[64] = 0xE4,
	[75] = 0x49,
	[76] = 0x4C,
	[79] = 0x50,
	[80] = 0x4A,
	[81] = 0x4D,
	[83] = 0x52,
	[84] = 0x51,
	[85] = 0x4B,
	[86] = 0x4E,
	[89] = 0x4F,
	[90] = 0x53,
	[91] = 0x5F,
	[92] = 0x5C,
	[93] = 0x59,
	[95] = 0x54,
	[96] = 0x60,
	[97] = 0x5D,
	[98] = 0x5A,
	[99] = 0x62,
	[100] = 0x55,
	[101] = 0x61,
	[102] = 0x5E,
	[103] = 0x5B,
	[104] = 0x63,
	[105] = 0x56,
	[106] = 0x57,
	[107] = 0x85,
	[108] = 0x58,
	[110] = 0x29,
	[112] = 0x3A,
	[113] = 0x3B,
	[114] = 0x3C,
	[115] = 0x3D,
	[116] = 0x3E,
	[117] = 0x3F,
	[118] = 0x40,
	[119] = 0x41,
	[120] = 0x42,
	[121] = 0x43,
	[122] = 0x44,
	[123] = 0x45,
	[124] = 0x46,
	[125] = 0x47,
	[126] = 0x48,
	[127] = 0xE3,
	[128] = 0xE7,
	[129] = 0x65,
};

const unsigned char keycode_ATkey_translation_table[] = {
	[0x07] = 112,
	[0x08] = 110,
	[0x0D] = 16,
	[0x0E] = 1,
	[0x0F] = 113,
	[0x11] = 58,
	[0x12] = 44,
	[0x13] = 45,
	[0x14] = 30,
	[0x15] = 17,
	[0x16] = 2,
	[0x17] = 114,
	[0x19] = 60,
	[0x1A] = 46,
	[0x1B] = 32,
	[0x1C] = 31,
	[0x1D] = 18,
	[0x1E] = 3,
	[0x1F] = 115,
	[0x21] = 48,
	[0x22] = 47,
	[0x23] = 33,
	[0x24] = 19,
	[0x25] = 5,
	[0x26] = 4,
	[0x27] = 116,
	[0x29] = 61,
	[0x2A] = 49,
	[0x2B] = 34,
	[0x2C] = 21,
	[0x2D] = 20,
	[0x2E] = 6,
	[0x2F] = 117,
	[0x31] = 51,
	[0x32] = 50,
	[0x33] = 36,
	[0x34] = 35,
	[0x35] = 22,
	[0x36] = 7,
	[0x37] = 118,
	[0x39] = 62,
	[0x3A] = 52,
	[0x3B] = 37,
	[0x3C] = 23,
	[0x3D] = 8,
	[0x3E] = 9,
	[0x3F] = 119,
	[0x41] = 53,
	[0x42] = 38,
	[0x43] = 24,
	[0x44] = 25,
	[0x45] = 11,
	[0x46] = 10,
	[0x47] = 120,
	[0x49] = 54,
	[0x4A] = 55,
	[0x4B] = 39,
	[0x4C] = 40,
	[0x4D] = 26,
	[0x4E] = 12,
	[0x4F] = 121,
	[0x52] = 41,
	[0x53] = 42,
	[0x54] = 27,
	[0x55] = 13,
	[0x56] = 122,
	[0x57] = 124,
	[0x58] = 64,
	[0x59] = 57,
	[0x5A] = 43,
	[0x5B] = 28,
	[0x5C] = 29,
	[0x5E] = 123,
	[0x5F] = 125,
	[0x60] = 84,
	[0x61] = 79,
	[0x62] = 126,
	[0x63] = 83,
	[0x64] = 76,
	[0x65] = 81,
	[0x66] = 15,
	[0x67] = 75,
	[0x69] = 93,
	[0x6A] = 89,
	[0x6B] = 92,
	[0x6C] = 91,
	[0x6D] = 86,
	[0x6E] = 80,
	[0x6F] = 85,
	[0x70] = 99,
	[0x71] = 104,
	[0x72] = 98,
	[0x73] = 97,
	[0x74] = 102,
	[0x75] = 96,
	[0x76] = 90,
	[0x77] = 95,
	[0x79] = 108,
	[0x7A] = 103,
	[0x7C] = 106,
	[0x7D] = 101,
	[0x7E] = 100,
	[0x84] = 105
};
